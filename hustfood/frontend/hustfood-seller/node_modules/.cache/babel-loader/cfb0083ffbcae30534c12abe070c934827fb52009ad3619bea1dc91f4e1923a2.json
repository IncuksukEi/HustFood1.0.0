{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Projects\\\\HustFood1.0.0\\\\hustfood\\\\frontend\\\\hustfood-seller\\\\src\\\\components\\\\Header\\\\Header.js\",\n  _s = $RefreshSig$();\nimport { useEffect, useState, useRef } from \"react\";\nimport \"../../assets/base.css\";\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nfunction Header() {\n  _s();\n  const [searchTerm, setSearchTerm] = useState(\"\");\n  const [currentIndex, setCurrentIndex] = useState(0);\n  const highlightsRef = useRef([]);\n  useEffect(() => {\n    clearHighlights();\n    if (searchTerm.trim() !== \"\") {\n      const regex = new RegExp(searchTerm, \"gi\");\n      const walker = document.createTreeWalker(document.body, NodeFilter.SHOW_TEXT, null, false);\n      const highlights = [];\n      while (walker.nextNode()) {\n        const node = walker.currentNode;\n        const matches = [...node.textContent.matchAll(regex)];\n        if (matches.length > 0) {\n          const parent = node.parentNode;\n          const fragment = document.createDocumentFragment();\n          let lastIndex = 0;\n          matches.forEach((match, i) => {\n            const before = node.textContent.slice(lastIndex, match.index);\n            const matchedText = match[0];\n            if (before) fragment.appendChild(document.createTextNode(before));\n            const span = document.createElement(\"span\");\n            span.className = \"highlighted-search\";\n            span.textContent = matchedText;\n            fragment.appendChild(span);\n            highlights.push(span);\n            lastIndex = match.index + matchedText.length;\n          });\n          const after = node.textContent.slice(lastIndex);\n          if (after) fragment.appendChild(document.createTextNode(after));\n          parent.replaceChild(fragment, node);\n        }\n      }\n      highlightsRef.current = highlights;\n      if (highlights.length > 0) {\n        scrollToHighlight(0);\n      }\n    }\n  }, [searchTerm]);\n  const scrollToHighlight = index => {\n    if (highlightsRef.current.length === 0) return;\n    const highlight = highlightsRef.current[index];\n    highlight.scrollIntoView({\n      behavior: \"smooth\",\n      block: \"center\"\n    });\n    highlightsRef.current.forEach((el, i) => el.classList.toggle(\"active-highlight\", i === index));\n    setCurrentIndex(index);\n  };\n  const clearHighlights = () => {\n    highlightsRef.current.forEach(el => {\n      const textNode = document.createTextNode(el.textContent);\n      el.parentNode.replaceChild(textNode, el);\n    });\n    highlightsRef.current = [];\n  };\n  const goNext = () => {\n    if (highlightsRef.current.length === 0) return;\n    const nextIndex = (currentIndex + 1) % highlightsRef.current.length;\n    scrollToHighlight(nextIndex);\n  };\n  const goPrev = () => {\n    if (highlightsRef.current.length === 0) return;\n    const prevIndex = (currentIndex - 1 + highlightsRef.current.length) % highlightsRef.current.length;\n    scrollToHighlight(prevIndex);\n  };\n  return /*#__PURE__*/_jsxDEV(\"header\", {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"menu-toggle\",\n      children: /*#__PURE__*/_jsxDEV(\"label\", {\n        htmlFor: \"navbar-toggle\",\n        children: /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"las la-bars\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 96,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"search\",\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"search\",\n        placeholder: \"Mu\\u1ED1n t\\xECm g\\xEC n\\xE0o?\",\n        value: searchTerm,\n        onChange: e => setSearchTerm(e.target.value)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"las la-search\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 107,\n        columnNumber: 9\n      }, this), highlightsRef.current.length > 0 && /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: goPrev,\n          children: \"\\u2B05\\uFE0F\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 110,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: goNext,\n          children: \"\\u27A1\\uFE0F\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 111,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"header-icons\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 93,\n    columnNumber: 5\n  }, this);\n}\n_s(Header, \"XyIqa+DCIRaZF0GLDJbT0Gf3xSs=\");\n_c = Header;\nexport default Header;\nvar _c;\n$RefreshReg$(_c, \"Header\");","map":{"version":3,"names":["useEffect","useState","useRef","jsxDEV","_jsxDEV","Fragment","_Fragment","Header","_s","searchTerm","setSearchTerm","currentIndex","setCurrentIndex","highlightsRef","clearHighlights","trim","regex","RegExp","walker","document","createTreeWalker","body","NodeFilter","SHOW_TEXT","highlights","nextNode","node","currentNode","matches","textContent","matchAll","length","parent","parentNode","fragment","createDocumentFragment","lastIndex","forEach","match","i","before","slice","index","matchedText","appendChild","createTextNode","span","createElement","className","push","after","replaceChild","current","scrollToHighlight","highlight","scrollIntoView","behavior","block","el","classList","toggle","textNode","goNext","nextIndex","goPrev","prevIndex","children","htmlFor","fileName","_jsxFileName","lineNumber","columnNumber","type","placeholder","value","onChange","e","target","onClick","_c","$RefreshReg$"],"sources":["C:/Users/Projects/HustFood1.0.0/hustfood/frontend/hustfood-seller/src/components/Header/Header.js"],"sourcesContent":["import { useEffect, useState, useRef } from \"react\";\nimport \"../../assets/base.css\";\n\nfunction Header() {\n  const [searchTerm, setSearchTerm] = useState(\"\");\n  const [currentIndex, setCurrentIndex] = useState(0);\n  const highlightsRef = useRef([]);\n\n  useEffect(() => {\n    clearHighlights();\n\n    if (searchTerm.trim() !== \"\") {\n      const regex = new RegExp(searchTerm, \"gi\");\n      const walker = document.createTreeWalker(\n        document.body,\n        NodeFilter.SHOW_TEXT,\n        null,\n        false\n      );\n\n      const highlights = [];\n\n      while (walker.nextNode()) {\n        const node = walker.currentNode;\n        const matches = [...node.textContent.matchAll(regex)];\n\n        if (matches.length > 0) {\n          const parent = node.parentNode;\n          const fragment = document.createDocumentFragment();\n          let lastIndex = 0;\n\n          matches.forEach((match, i) => {\n            const before = node.textContent.slice(lastIndex, match.index);\n            const matchedText = match[0];\n            if (before) fragment.appendChild(document.createTextNode(before));\n\n            const span = document.createElement(\"span\");\n            span.className = \"highlighted-search\";\n            span.textContent = matchedText;\n            fragment.appendChild(span);\n            highlights.push(span);\n\n            lastIndex = match.index + matchedText.length;\n          });\n\n          const after = node.textContent.slice(lastIndex);\n          if (after) fragment.appendChild(document.createTextNode(after));\n\n          parent.replaceChild(fragment, node);\n        }\n      }\n\n      highlightsRef.current = highlights;\n      if (highlights.length > 0) {\n        scrollToHighlight(0);\n      }\n    }\n  }, [searchTerm]);\n\n  const scrollToHighlight = (index) => {\n    if (highlightsRef.current.length === 0) return;\n    const highlight = highlightsRef.current[index];\n    highlight.scrollIntoView({ behavior: \"smooth\", block: \"center\" });\n    highlightsRef.current.forEach((el, i) =>\n      el.classList.toggle(\"active-highlight\", i === index)\n    );\n    setCurrentIndex(index);\n  };\n\n  const clearHighlights = () => {\n    highlightsRef.current.forEach((el) => {\n      const textNode = document.createTextNode(el.textContent);\n      el.parentNode.replaceChild(textNode, el);\n    });\n    highlightsRef.current = [];\n  };\n\n  const goNext = () => {\n    if (highlightsRef.current.length === 0) return;\n    const nextIndex = (currentIndex + 1) % highlightsRef.current.length;\n    scrollToHighlight(nextIndex);\n  };\n\n  const goPrev = () => {\n    if (highlightsRef.current.length === 0) return;\n    const prevIndex =\n      (currentIndex - 1 + highlightsRef.current.length) %\n      highlightsRef.current.length;\n    scrollToHighlight(prevIndex);\n  };\n\n  return (\n    <header>\n      <div className=\"menu-toggle\">\n        <label htmlFor=\"navbar-toggle\">\n          <span className=\"las la-bars\"></span>\n        </label>\n      </div>\n\n      <div className=\"search\">\n        <input\n          type=\"search\"\n          placeholder=\"Muốn tìm gì nào?\"\n          value={searchTerm}\n          onChange={(e) => setSearchTerm(e.target.value)}\n        />\n        <span className=\"las la-search\"></span>\n        {highlightsRef.current.length > 0 && (\n          <>\n            <button onClick={goPrev}>⬅️</button>\n            <button onClick={goNext}>➡️</button>\n          </>\n        )}\n      </div>\n\n      <div className=\"header-icons\"></div>\n    </header>\n  );\n}\n\nexport default Header;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}